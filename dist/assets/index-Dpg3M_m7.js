const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./app-CavI6cpD.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Ee="modulepreload",Ae=function(t,e){return new URL(t,e).href},le={},Me=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Ae(l,n),l in le)return;le[l]=!0;const f=l.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!n)for(let h=o.length-1;h>=0;h--){const m=o[h];if(m.href===l&&(!f||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Ee,f||(p.as="script"),p.crossOrigin="",p.href=l,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((h,m)=>{p.addEventListener("load",h),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return e().catch(i)})};var _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V={};Object.defineProperty(V,"__esModule",{value:!0});V.dom=Re;V.doms=Se;var Ie=V.evans=Ve,g=V.makel=we;function ke(t,e){return Ne(t)||Pe(t,e)||Oe(t,e)||Te()}function Te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oe(t,e){if(t){if(typeof t=="string")return ue(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ue(t,e)}}function ue(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Ne(t){if(Array.isArray(t))return t}function Re(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return e===null?document.querySelector(t):t.querySelector(e)}function Se(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return e===null?document.querySelectorAll(t):t.querySelectorAll(e)}function Ve(t,e){for(var r in e)t.addEventListener(r,e[r])}function we(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",e=/\[([a-z][a-z-]+)(=['|"]?([^\]]*)['|"]?)?\]/gi,r=t.match(e);t=t.replace(e,"");var n=t.match(/^[a-z0-9]+/i),a=t.match(/#([a-z]+[a-z0-9-]*)/gi),i=t.match(/\.([a-z]+[a-z0-9-]*)/gi),o=n?n[0]:"div";if(a&&a.length>1)throw De("only 1 ID is allowed");var s=document.createElement(o);if(a&&(s.id=a[0].replace("#","")),i){var c=i.join(" ").replace(/\./g,"");s.setAttribute("class",c)}r&&r.forEach(function(v){v=v.slice(0,-1).slice(1);var p=v.split("="),h=ke(p,2),m=h[0],u=h[1];u&&(u=u.replace(/^['"](.*)['"]$/,"$1")),s.setAttribute(m,u||"")});for(var l=arguments.length,f=new Array(l>1?l-1:0),d=1;d<l;d++)f[d-1]=arguments[d];return f.forEach(function(v){typeof v=="string"||typeof v=="number"?s.appendChild(document.createTextNode(v)):v.nodeType===document.ELEMENT_NODE&&s.appendChild(v)}),s}function De(t){this.message=t,this.name="CreateElementException"}class $e{constructor(){this._form=g("form.form-container",g("div.field-container",g("label[for=cardNumber]","Номер карты"),g("input[id=cardNumber][type=text][name=cardNumber]"),g("div.ccicon[id=cardTypeIcon]")),g("div.field-container",g("label[for=cardDate]","Дата"),g("input[id=cardDate][type=text][name=cardDate]")),g("div.field-container",g("label[for=cardCode]","Код"),g("input[id=cardCode][type=text][name=cardCode]")),g("div.field-container",g("label[for=email]","Email"),g("input[id=email][type=text][name=email]")),g("button[type=submit][name=submit][disabled=disabled]","Оплатить")),this._valid={cardNumber:!1,cardDate:!1,cardCode:!1,email:!1}}get dom(){return this._form}set InputsEventHandlers(e){for(const r in e)if(this.dom.elements[r])for(const n in e[r])Ie(this.dom.elements[r],{[n]:e[r][n]})}setValidInput(e){this._valid[e]=!0}setInvalidInput(e){this._valid[e]=!1}enableSubmitButton(){this.dom.querySelector("button[type=submit]").disabled=!1}disableSubmitButton(){this.dom.querySelector("button[type=submit]").disabled=!0}get isValid(){let e=!0;for(const r in this._valid)e=e&&this._valid[r];return e}set cardType(e){this.dom.querySelector("#cardTypeIcon").style.backgroundImage=e&&ce[e]?`url(${ce[e]})`:""}}const ce={visa:"img/visa.png",mastercard:"img/mastercard.png","american-express":"img/amex.png",unionpay:"img/unionpay.png",maestro:"img/maestro.png",mir:"img/mir.png"};var je=Object.defineProperty,Le=(t,e,r)=>e in t?je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,B=(t,e,r)=>Le(t,typeof e!="symbol"?e+"":e,r);const de={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}},pe=(t,e,r)=>t.replaceAll(e,"").replace(r,".").replace("..",".").replace(/[^.\d]/g,""),fe=(t,e,r)=>{var n;return new Intl.NumberFormat(((n=r.number)==null?void 0:n.locale)??"en",{minimumFractionDigits:t,maximumFractionDigits:e,roundingMode:"trunc"})},xe=(t,e=!0,r)=>{var n,a,i,o;const s=((n=r.number)==null?void 0:n.unsigned)==null&&t.startsWith("-")?"-":"",c=((a=r.number)==null?void 0:a.fraction)??0;let l=fe(0,c,r);const f=l.formatToParts(1000.12),d=((i=f.find(u=>u.type==="group"))==null?void 0:i.value)??" ",v=((o=f.find(u=>u.type==="decimal"))==null?void 0:o.value)??".",p=pe(t,d,v);if(Number.isNaN(parseFloat(p)))return s;const h=p.split(".");if(h[1]!=null&&h[1].length>=1){const u=h[1].length<=c?h[1].length:c;l=fe(u,c,r)}let m=l.format(parseFloat(p));return e?c>0&&p.endsWith(".")&&!p.slice(0,-1).includes(".")&&(m+=v):m=pe(m,d,v),s+m};class ze{constructor(e={}){B(this,"opts",{}),B(this,"memo",new Map);const r={...e};if(r.tokens!=null){r.tokens=r.tokensReplace?{...r.tokens}:{...de,...r.tokens};for(const n of Object.values(r.tokens))typeof n.pattern=="string"&&(n.pattern=new RegExp(n.pattern))}else r.tokens=de;Array.isArray(r.mask)&&(r.mask.length>1?r.mask=[...r.mask].sort((n,a)=>n.length-a.length):r.mask=r.mask[0]??""),r.mask===""&&(r.mask=null),this.opts=r}masked(e){return this.process(e,this.findMask(e))}unmasked(e){return this.process(e,this.findMask(e),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(e){const r=this.findMask(e);if(this.opts.mask==null||r==null)return!1;const n=this.process(e,r).length;return typeof this.opts.mask=="string"?n>=this.opts.mask.length:n>=r.length}findMask(e){const r=this.opts.mask;if(r==null)return null;if(typeof r=="string")return r;if(typeof r=="function")return r(e);const n=this.process(e,r.slice(-1).pop()??"",!1);return r.find(a=>this.process(e,a,!1).length>=n.length)??""}escapeMask(e){const r=[],n=[];return e.split("").forEach((a,i)=>{a==="!"&&e[i-1]!=="!"?n.push(i-n.length):r.push(a)}),{mask:r.join(""),escaped:n}}process(e,r,n=!0){if(this.opts.number!=null)return xe(e,n,this.opts);if(r==null)return e;const a=`v=${e},mr=${r},m=${n?1:0}`;if(this.memo.has(a))return this.memo.get(a);const{mask:i,escaped:o}=this.escapeMask(r),s=[],c=this.opts.tokens!=null?this.opts.tokens:{},l=this.isReversed()?-1:1,f=this.isReversed()?"unshift":"push",d=this.isReversed()?0:i.length-1,v=this.isReversed()?()=>u>-1&&b>-1:()=>u<i.length&&b<e.length,p=I=>!this.isReversed()&&I<=d||this.isReversed()&&I>=d;let h,m=-1,u=this.isReversed()?i.length-1:0,b=this.isReversed()?e.length-1:0,te=!1;for(;v();){const I=i.charAt(u),E=c[I],j=(E==null?void 0:E.transform)!=null?E.transform(e.charAt(b)):e.charAt(b);if(!o.includes(u)&&E!=null?(j.match(E.pattern)!=null?(s[f](j),E.repeated?(m===-1?m=u:u===d&&u!==m&&(u=m-l),d===m&&(u-=l)):E.multiple&&(te=!0,u-=l),u+=l):E.multiple?te&&(u+=l,b-=l,te=!1):j===h?h=void 0:E.optional&&(u+=l,b-=l),b+=l):(n&&!this.isEager()&&s[f](I),j===I&&!this.isEager()?b+=l:h=I,this.isEager()||(u+=l)),this.isEager())for(;p(u)&&(c[i.charAt(u)]==null||o.includes(u));){if(n){if(s[f](i.charAt(u)),e.charAt(b)===i.charAt(u)){u+=l,b+=l;continue}}else i.charAt(u)===e.charAt(b)&&(b+=l);u+=l}}return this.memo.set(a,s.join("")),this.memo.get(a)}}const me=t=>JSON.parse(t.replaceAll("'",'"')),Be=(t,e={})=>{const r={...e};t.dataset.maska!=null&&t.dataset.maska!==""&&(r.mask=Ue(t.dataset.maska)),t.dataset.maskaEager!=null&&(r.eager=L(t.dataset.maskaEager)),t.dataset.maskaReversed!=null&&(r.reversed=L(t.dataset.maskaReversed)),t.dataset.maskaTokensReplace!=null&&(r.tokensReplace=L(t.dataset.maskaTokensReplace)),t.dataset.maskaTokens!=null&&(r.tokens=He(t.dataset.maskaTokens));const n={};return t.dataset.maskaNumberLocale!=null&&(n.locale=t.dataset.maskaNumberLocale),t.dataset.maskaNumberFraction!=null&&(n.fraction=parseInt(t.dataset.maskaNumberFraction)),t.dataset.maskaNumberUnsigned!=null&&(n.unsigned=L(t.dataset.maskaNumberUnsigned)),(t.dataset.maskaNumber!=null||Object.values(n).length>0)&&(r.number=n),r},L=t=>t!==""?!!JSON.parse(t):!0,Ue=t=>t.startsWith("[")&&t.endsWith("]")?me(t):t,He=t=>{if(t.startsWith("{")&&t.endsWith("}"))return me(t);const e={};return t.split("|").forEach(r=>{const n=r.split(":");e[n[0]]={pattern:new RegExp(n[1]),optional:n[2]==="optional",multiple:n[2]==="multiple",repeated:n[2]==="repeated"}}),e};class re{constructor(e,r={}){B(this,"items",new Map),B(this,"onInput",n=>{if(n instanceof CustomEvent&&n.type==="input"&&!n.isTrusted&&!n.bubbles)return;const a=n.target,i=this.items.get(a),o="inputType"in n&&n.inputType.startsWith("delete"),s=i.isEager(),c=o&&s&&i.unmasked(a.value)===""?"":a.value;this.fixCursor(a,o,()=>this.setValue(a,c))}),this.options=r,this.init(this.getInputs(e))}update(e={}){this.options={...e},this.init(Array.from(this.items.keys()))}updateValue(e){e.value!==""&&e.value!==this.processInput(e).masked&&this.setValue(e,e.value)}destroy(){for(const e of this.items.keys())e.removeEventListener("input",this.onInput);this.items.clear()}init(e){const r=this.getOptions(this.options);for(const n of e){this.items.has(n)||n.addEventListener("input",this.onInput,{capture:!0});const a=new ze(Be(n,r));this.items.set(n,a),queueMicrotask(()=>this.updateValue(n)),n.selectionStart===null&&a.isEager()&&console.warn("Maska: input of `%s` type is not supported",n.type)}}getInputs(e){return typeof e=="string"?Array.from(document.querySelectorAll(e)):"length"in e?Array.from(e):[e]}getOptions(e){const{onMaska:r,preProcess:n,postProcess:a,...i}=e;return i}fixCursor(e,r,n){const a=e.selectionStart,i=e.value;if(n(),a===null||a===i.length&&!r)return;const o=e.value,s=i.slice(0,a),c=o.slice(0,a),l=this.processInput(e,s).unmasked,f=this.processInput(e,c).unmasked;let d=a;s!==c&&(d+=r?o.length-i.length:l.length-f.length),e.setSelectionRange(d,d)}setValue(e,r){const n=this.processInput(e,r);e.value=n.masked,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(a=>a(n)):this.options.onMaska(n)),e.dispatchEvent(new CustomEvent("maska",{detail:n})),e.dispatchEvent(new CustomEvent("input",{detail:n.masked}))}processInput(e,r){const n=this.items.get(e);let a=r??e.value;this.options.preProcess!=null&&(a=this.options.preProcess(a));let i=n.masked(a);return this.options.postProcess!=null&&(i=this.options.postProcess(i)),{masked:i,unmasked:n.unmasked(a),completed:n.completed(a)}}}var Ye={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,504174],[504176,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,63737423,63743358,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}},Fe=Ye,H={},w={};Object.defineProperty(w,"__esModule",{value:!0});w.clone=void 0;function qe(t){return t?JSON.parse(JSON.stringify(t)):null}w.clone=qe;var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.matches=void 0;function We(t,e,r){var n=String(e).length,a=t.substr(0,n),i=parseInt(a,10);return e=parseInt(String(e).substr(0,a.length),10),r=parseInt(String(r).substr(0,a.length),10),i>=e&&i<=r}function Ge(t,e){return e=String(e),e.substring(0,t.length)===t.substring(0,e.length)}function Je(t,e){return Array.isArray(e)?We(t,e[0],e[1]):Ge(t,e)}Y.matches=Je;Object.defineProperty(H,"__esModule",{value:!0});H.addMatchingCardsToResults=void 0;var Xe=w,Ze=Y;function Ke(t,e,r){var n,a;for(n=0;n<e.patterns.length;n++){var i=e.patterns[n];if(Ze.matches(t,i)){var o=Xe.clone(e);Array.isArray(i)?a=String(i[0]).length:a=String(i).length,t.length>=a&&(o.matchStrength=a),r.push(o);break}}}H.addMatchingCardsToResults=Ke;var F={};Object.defineProperty(F,"__esModule",{value:!0});F.isValidInputType=void 0;function Qe(t){return typeof t=="string"||t instanceof String}F.isValidInputType=Qe;var q={};Object.defineProperty(q,"__esModule",{value:!0});q.findBestMatch=void 0;function et(t){var e=t.filter(function(r){return r.matchStrength}).length;return e>0&&e===t.length}function tt(t){return et(t)?t.reduce(function(e,r){return!e||Number(e.matchStrength)<Number(r.matchStrength)?r:e}):null}q.findBestMatch=tt;var U=_&&_.__assign||function(){return U=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},U.apply(this,arguments)},ve=Fe,rt=H,nt=F,at=q,D=w,S={},y={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},ge=[y.VISA,y.MASTERCARD,y.AMERICAN_EXPRESS,y.DINERS_CLUB,y.DISCOVER,y.JCB,y.UNIONPAY,y.MAESTRO,y.ELO,y.MIR,y.HIPER,y.HIPERCARD],M=D.clone(ge);function ie(t){return S[t]||ve[t]}function it(){return M.map(function(t){return D.clone(ie(t))})}function se(t,e){e===void 0&&(e=!1);var r=M.indexOf(t);if(!e&&r===-1)throw new Error('"'+t+'" is not a supported card type.');return r}function C(t){var e=[];if(!nt.isValidInputType(t))return e;if(t.length===0)return it();M.forEach(function(n){var a=ie(n);rt.addMatchingCardsToResults(t,a,e)});var r=at.findBestMatch(e);return r?[r]:e}C.getTypeInfo=function(t){return D.clone(ie(t))};C.removeCard=function(t){var e=se(t);M.splice(e,1)};C.addCard=function(t){var e=se(t.type,!0);S[t.type]=t,e===-1&&M.push(t.type)};C.updateCard=function(t,e){var r=S[t]||ve[t];if(!r)throw new Error('"'+t+"\" is not a recognized type. Use `addCard` instead.'");if(e.type&&r.type!==e.type)throw new Error("Cannot overwrite type parameter.");var n=D.clone(r);n=U(U({},n),e),S[n.type]=n};C.changeOrder=function(t,e){var r=se(t);M.splice(r,1),M.splice(e,0,t)};C.resetModifications=function(){M=D.clone(ge),S={}};C.types=y;var ye=C,W={};Object.defineProperty(W,"__esModule",{value:!0});W.cardholderName=void 0;var st=/^[\d\s-]*$/,ot=255;function P(t,e){return{isValid:t,isPotentiallyValid:e}}function lt(t){return typeof t!="string"?P(!1,!1):t.length===0?P(!1,!0):t.length>ot?P(!1,!1):st.test(t)?P(!1,!0):P(!0,!0)}W.cardholderName=lt;var G={};function ut(t){for(var e=0,r=!1,n=t.length-1,a;n>=0;)a=parseInt(t.charAt(n),10),r&&(a*=2,a>9&&(a=a%10+1)),r=!r,e+=a,n--;return e%10===0}var ct=ut;Object.defineProperty(G,"__esModule",{value:!0});G.cardNumber=void 0;var dt=ct,he=ye;function k(t,e,r){return{card:t,isPotentiallyValid:e,isValid:r}}function pt(t,e){e===void 0&&(e={});var r,n,a;if(typeof t!="string"&&typeof t!="number")return k(null,!1,!1);var i=String(t).replace(/-|\s/g,"");if(!/^\d*$/.test(i))return k(null,!1,!1);var o=he(i);if(o.length===0)return k(null,!1,!1);if(o.length!==1)return k(null,!0,!1);var s=o[0];if(e.maxLength&&i.length>e.maxLength)return k(s,!1,!1);e.skipLuhnValidation===!0||s.type===he.types.UNIONPAY&&e.luhnValidateUnionPay!==!0?n=!0:n=dt(i),a=Math.max.apply(null,s.lengths),e.maxLength&&(a=Math.min(e.maxLength,a));for(var c=0;c<s.lengths.length;c++)if(s.lengths[c]===i.length)return r=i.length<a||n,k(s,r,n);return k(s,i.length<a,!1)}G.cardNumber=pt;var J={},X={},O={};Object.defineProperty(O,"__esModule",{value:!0});O.expirationYear=void 0;var ft=19;function A(t,e,r){return{isValid:t,isPotentiallyValid:e,isCurrentYear:r||!1}}function ht(t,e){e===void 0&&(e=ft);var r;if(typeof t!="string")return A(!1,!1);if(t.replace(/\s/g,"")==="")return A(!1,!0);if(!/^\d*$/.test(t))return A(!1,!1);var n=t.length;if(n<2)return A(!1,!0);var a=new Date().getFullYear();if(n===3){var i=t.slice(0,2),o=String(a).slice(0,2);return A(!1,i===o)}if(n>4)return A(!1,!1);var s=parseInt(t,10),c=Number(String(a).substr(2,2)),l=!1;if(n===2){if(String(a).substr(0,2)===t)return A(!1,!0);r=c===s,l=s>=c&&s<=c+e}else n===4&&(r=a===s,l=s>=a&&s<=a+e);return A(l,l,r)}O.expirationYear=ht;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.isArray=void 0;Z.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};Object.defineProperty(X,"__esModule",{value:!0});X.parseDate=void 0;var mt=O,vt=Z;function gt(t){var e=Number(t[0]),r;return e===0?2:e>1||e===1&&Number(t[1])>2?1:e===1?(r=t.substr(1),(0,mt.expirationYear)(r).isPotentiallyValid?1:2):t.length===5?1:t.length>5?2:1}function yt(t){var e;if(/^\d{4}-\d{1,2}$/.test(t)?e=t.split("-").reverse():/\//.test(t)?e=t.split(/\s*\/\s*/g):/\s/.test(t)&&(e=t.split(/ +/g)),(0,vt.isArray)(e))return{month:e[0]||"",year:e.slice(1).join()};var r=gt(t),n=t.substr(0,r);return{month:n,year:t.substr(n.length)}}X.parseDate=yt;var $={};Object.defineProperty($,"__esModule",{value:!0});$.expirationMonth=void 0;function N(t,e,r){return{isValid:t,isPotentiallyValid:e,isValidForThisYear:r||!1}}function bt(t){var e=new Date().getMonth()+1;if(typeof t!="string")return N(!1,!1);if(t.replace(/\s/g,"")===""||t==="0")return N(!1,!0);if(!/^\d*$/.test(t))return N(!1,!1);var r=parseInt(t,10);if(isNaN(Number(t)))return N(!1,!1);var n=r>0&&r<13;return N(n,n,n&&r>=e)}$.expirationMonth=bt;var ne=_&&_.__assign||function(){return ne=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ne.apply(this,arguments)};Object.defineProperty(J,"__esModule",{value:!0});J.expirationDate=void 0;var _t=X,Et=$,At=O;function R(t,e,r,n){return{isValid:t,isPotentiallyValid:e,month:r,year:n}}function Mt(t,e){var r;if(typeof t=="string")t=t.replace(/^(\d\d) (\d\d(\d\d)?)$/,"$1/$2"),r=(0,_t.parseDate)(String(t));else if(t!==null&&typeof t=="object"){var n=ne({},t);r={month:String(n.month),year:String(n.year)}}else return R(!1,!1,null,null);var a=(0,Et.expirationMonth)(r.month),i=(0,At.expirationYear)(r.year,e);if(a.isValid){if(i.isCurrentYear){var o=a.isValidForThisYear;return R(o,o,r.month,r.year)}if(i.isValid)return R(!0,!0,r.month,r.year)}return a.isPotentiallyValid&&i.isPotentiallyValid?R(!1,!0,null,null):R(!1,!1,null,null)}J.expirationDate=Mt;var K={};Object.defineProperty(K,"__esModule",{value:!0});K.cvv=void 0;var be=3;function Ct(t,e){for(var r=0;r<t.length;r++)if(e===t[r])return!0;return!1}function It(t){for(var e=be,r=0;r<t.length;r++)e=t[r]>e?t[r]:e;return e}function T(t,e){return{isValid:t,isPotentiallyValid:e}}function kt(t,e){return e===void 0&&(e=be),e=e instanceof Array?e:[e],typeof t!="string"||!/^\d*$/.test(t)?T(!1,!1):Ct(e,t.length)?T(!0,!0):t.length<Math.min.apply(null,e)?T(!1,!0):t.length>It(e)?T(!1,!1):T(!0,!0)}K.cvv=kt;var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.postalCode=void 0;var Tt=3,Ot=new RegExp(/^[a-z0-9]+$/i);function x(t,e){return{isValid:t,isPotentiallyValid:e}}function Pt(t,e){e===void 0&&(e={});var r=e.minLength||Tt;return typeof t!="string"?x(!1,!1):t.length<r?x(!1,!0):Ot.test(t.trim().slice(0,r))?x(!0,!0):x(!1,!0)}Q.postalCode=Pt;var Nt=_&&_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rt=_&&_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),St=_&&_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nt(e,t,r);return Rt(e,t),e},Vt=St(ye),wt=W,Dt=G,$t=J,jt=$,Lt=O,xt=K,zt=Q,Bt={creditCardType:Vt,cardholderName:wt.cardholderName,number:Dt.cardNumber,expirationDate:$t.expirationDate,expirationMonth:jt.expirationMonth,expirationYear:Lt.expirationYear,cvv:xt.cvv,postalCode:zt.postalCode},Ut=Bt;const ae=Ce(Ut);class Ht{constructor(e){Me(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),this.wrapper=e}create(){const e=new $e;this.wrapper.append(e.dom),e.InputsEventHandlers={cardNumber:Yt(e),cardDate:qt(e),cardCode:Ft(e),email:Wt(e)},Gt(e.dom)}}let oe=3,_e="#### #### #### ####",z=null;const Yt=t=>({blur:e=>{const r=e.target;ae.number(r.value).isValid?(t.setValidInput(r.name),ee(t)):(r.classList.add("error"),t.setInvalidInput(r.name))},input:e=>{e.target.classList.remove("error");const r=ae.number(e.target.value);r.card||(z=null,t.cardType=null),r.card&&z!==r.card.type&&(z=r.card.type,t.cardType=z,oe=r.card.code.size,_e=Jt(r.card))}}),Ft=t=>({blur:e=>{const r=e.target;ae.cvv(r.value,oe).isValid?(t.setValidInput(r.name),ee(t)):(r.classList.add("error"),t.setInvalidInput(r.name))},input:e=>{e.target.classList.remove("error")}}),qt=t=>({blur:e=>{const r=e.target,n=r.value.match(/^(\d\d)\/(\d\d)$/);if(n){const a=Number(n[1]),i=Number(n[2]),o=new Date,s=o.getMonth()+1,c=o.getFullYear()%100;if((i===c&&a>s||i>c)&&0<a&&a<13){t.setValidInput(r.name),ee(t);return}}r.classList.add("error"),t.setInvalidInput(r.name)},input:e=>{e.target.classList.remove("error")}}),Wt=t=>({blur:e=>{const r=e.target;/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu.test(r.value)?(t.setValidInput(r.name),ee(t)):(r.classList.add("error"),t.setInvalidInput(r.name))},input:e=>{e.target.classList.remove("error")}}),Gt=t=>{new re(t.elements.cardDate,{mask:"##/##",eager:!0}),new re(t.elements.cardCode,{mask:()=>"#".repeat(oe)}),new re(t.elements.cardNumber,{mask:()=>_e,eager:!0})},Jt=t=>{const e=[...t.gaps,t.lengths[t.lengths.length-1]];return e.map((r,n)=>{const a=e[n-1]||0;return"#".repeat(r-a)},"").join(" ")},ee=t=>{t.isValid?t.enableSubmitButton():t.disableSubmitButton()};new Ht(document.getElementById("app")).create();
